### 01 | 基础架构：一条SQL查询语句是如何执行的

![查询语句执行过程](img/查询语句执行过程.webp)

连接器：创建连接，默认空闲超过8小时就会断开

分析器（what）：词法分析（是什么语句）,语法分析（是否有误）

优化器（how）：执行顺序（选择索引）

执行器（do）: 校验执行权限，执行查询语句

### 02 | 日志系统：一条SQL更新语句是如何执行的

1. redo log 是 InnoDB 引擎特有的；binlog 是 MySQL 的 Server 层实现的，所有引擎都可以使用。
2. redo log 是物理日志，记录的是“在某个数据页上做了什么修改”；binlog 是逻辑日志，记录的是这个语句的原始逻辑，比如“给 ID=2 这一行的 c 字段加 1 ”。
3. redo log 是循环写的，空间固定会用完；binlog 是可以追加写入的。“追加写”是指 binlog 文件写到一定大小后会切换到下一个，并不会覆盖以前的日志。